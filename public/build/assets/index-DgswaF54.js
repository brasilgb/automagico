import{u as Y,r as o,j as e,Y as M,h as i,b as j}from"./app-CRayIxTz.js";import{M as r,V as g}from"./index-BedyCMF9.js";import{T as b,a as u,b as h,c as s,d as y,e as c}from"./index-MR0y7OfQ.js";import{a as T}from"./index-CNS-7GL7.js";/* empty css                */const A=()=>{const{dataFiltro:l,filialAnalise:d}=Y(),[a,f]=o.useState([]),[x,p]=o.useState([]);return o.useEffect(()=>{(async()=>{await j.get(`totais?dt=${i(l).format("YYYYMMDD")}&fl=${d}`).then(t=>{const{totals:m}=t.data.response;f(m)}).catch(t=>{console.log(t)})})()},[l,d]),o.useEffect(()=>{(async()=>{await j.get(`vendas?dt=${i(l).format("YYYYMMDD")}&fl=${d}`).then(t=>{const{sales:m}=t.data.response;p(m)}).catch(t=>{console.log(t)})})()},[l,d]),e.jsxs(e.Fragment,{children:[e.jsx(M,{title:"Vendas"}),e.jsxs(b,{className:"bg-megb-blue-secundary rounded-t-md w-full animate__animated animate__fadeIn",children:[e.jsx(u,{children:e.jsxs(h,{children:[e.jsx(s,{children:"#"}),e.jsx(s,{children:"Data venda"}),e.jsx(s,{children:"Meta"}),e.jsx(s,{children:"Venda"}),e.jsx(s,{children:"Margem"}),e.jsx(s,{children:"Representa"})]})}),e.jsx(u,{children:a&&e.jsxs(h,{className:"bg-gray-500",children:[e.jsx(s,{children:"Total"}),e.jsx(s,{children:i(a==null?void 0:a.datatu).format("DD/MM/YYYY")}),e.jsx(s,{children:r(a==null?void 0:a.valmeta)}),e.jsx(s,{children:r(a==null?void 0:a.valven)}),e.jsx(s,{children:r(a==null?void 0:a.margem)}),e.jsx(s,{children:g(a==null?void 0:a.permet)})]})}),e.jsx(y,{children:x.map((n,t)=>e.jsxs(h,{className:`${t%2===0?"bg-gray-50":"bg-gray-100"}`,children:[e.jsx(c,{children:n.id}),e.jsx(c,{children:i(n.dtvenda).format("DD/MM/YYYY")}),e.jsx(c,{children:r(n.valmeta)}),e.jsx(c,{children:r(n.valvenda)}),e.jsx(c,{children:r(n.margem)}),e.jsx(c,{children:g(n.representa)})]}))})]}),x.length=="0"&&e.jsxs("div",{className:"bg-cyan-600 text-white flex items-center justify-start rounded-md shadow-sm md:mt-4 mt-2 py-2 px-3",children:[e.jsx(T,{size:25}),e.jsx("span",{className:"text-sm ml-2",children:"Não há dados a serem mostrados no momento"})]})]})};export{A as default};
